jQuery(function(a){a.fn.dtInitContactForm=function(){return this.each(function(){var b=a(this),c="";c=b.hasClass("privacy-form")?'<p class="dt-privacy-message">'+dtLocal.contactMessages.terms+"<p>":"",b.validationEngine({binded:!1,promptPosition:"inline",scroll:!1,autoHidePrompt:!1,maxErrorsPerField:1,custom_error_messages:{required:{message:dtLocal.contactMessages.required+c}},fadeDuration:500,addPromptClass:"run-animation",onAjaxFormComplete:function(){},addSuccessCssClassToField:"field-success",onBeforeAjaxFormValidation:function(b,c){var d=a(b);d.find(".formError").removeClass("first"),d.find("input").removeClass("error-field"),d.find("textarea").removeClass("error-field")},onFailure:function(b,c){var d=a(b);d.find(".formError .close-message").length<=0&&d.find(".formError").append('<span class="close-message"></span>')},onValidationComplete:function(b,c){var d=a(b);if(d.find(".greenPopup").length>0&&d.find(".greenPopup").remove(),d.find(".formError").removeClass("first"),d.find("input").removeClass("error-field"),d.find("textarea").removeClass("error-field"),d.find(".formError").each(function(b,c){a(c).eq(b).addClass("first"),a(c).prev().addClass("error-field")}),a(".formError .close-message").remove(),d.find(".formError .close-message").length<=0&&d.find(".formError").append('<span class="close-message"></span>'),d.find("input.the7-form-terms").hasClass("field-success")&&d.find(".dt-privacy-message").addClass("hide-privacy-message"),c){var e={action:"dt_send_mail",widget_id:a('input[name="widget_id"]',d).val(),send_message:a('input[name="send_message"]',d).val(),fields:{}};d.find('input[type="text"], textarea').each(function(){var b=a(this);e.fields[b.attr("name")]=b.val()}),a.post(dtLocal.ajaxurl,e,function(c){var e,f=a(b),g=c.success?"pass":"error";a('input[type="hidden"]',f).last().validationEngine("showPrompt",c.errors,g,"inline"),d.find(".formError").addClass("field-success"),f.validationEngine("showPrompt","","","topRight"),c.success&&(f.find('input[type="text"], textarea').val(""),f.find('input[type="checkbox"]').removeProp("checked"),d.find(".formError .close-message").length<=0&&(d.find(".formError").append('<span class="close-message"></span>'),d.find(".formError .close-message").on("click",function(){d.find(".greenPopup").remove(),clearTimeout(e)})),clearTimeout(e),e=setTimeout(function(){d.find(".greenPopup").remove()},11e3))})}}}),b.find(".dt-btn.dt-btn-submit").on("click",function(b){b.preventDefault();var c=a(this).parents("form");c.submit()}),b.find(".clear-form").on("click",function(b){b.preventDefault();var c=a(this).parents("form");c.length>0&&(c.find('input[type="text"], textarea').val(""),c.validationEngine("hide"))})})},a("form.dt-contact-form.dt-form").dtInitContactForm()});